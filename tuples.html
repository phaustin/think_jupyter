

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Tuples &#8212; How to think like a computer scientist</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/jupyter-sphinx.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/mystnb.js"></script>
    <script src="_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .secondtoggle, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Case study: data structure selection" href="case_study_data_structures.html" />
    <link rel="prev" title="Dictionaries" href="dictionaries.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">How to think like a computer scientist</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  
  <ul class="nav sidenav_l1">
  <li class="">
    <a href="preface.html">Preface  – work in progress, cross-references/figures to be added</a>
  </li>
  <li class="">
    <a href="intro.html">Introduction</a>
  </li>
  <li class="">
    <a href="way_of.html">The way of the program</a>
  </li>
  <li class="">
    <a href="variables.html">Variables, expressions and statements</a>
  </li>
  <li class="">
    <a href="functions.html">Functions</a>
  </li>
  <li class="">
    <a href="case_study_interface.html">Case study: interface design</a>
  </li>
  <li class="">
    <a href="conditionals.html">Conditionals and recursion</a>
  </li>
  <li class="">
    <a href="fruitful_functions.html">Fruitful functions</a>
  </li>
  <li class="">
    <a href="iteration.html">Iteration</a>
  </li>
  <li class="">
    <a href="strings.html">Strings</a>
  </li>
  <li class="">
    <a href="case_study_wordplay.html">Case study: word play</a>
  </li>
  <li class="">
    <a href="lists.html">Lists</a>
  </li>
  <li class="">
    <a href="dictionaries.html">Dictionaries</a>
  </li>
  <li class="active">
    <a href="">Tuples</a>
  </li>
  <li class="">
    <a href="case_study_data_structures.html">Case study: data structure selection</a>
  </li>
  <li class="">
    <a href="files.html">Files</a>
  </li>
  <li class="">
    <a href="classes_I.html">Classes and objects</a>
  </li>
  <li class="">
    <a href="classes_II.html">Classes and functions</a>
  </li>
  <li class="">
    <a href="classes_III.html">Classes and methods</a>
  </li>
  <li class="">
    <a href="classes_IV.html">Inheritance</a>
  </li>
  <li class="">
    <a href="advanced.html">The Goodies</a>
  </li>
  <li class="">
    <a href="debugging.html">Debugging</a>
  </li>
  <li class="">
    <a href="algorithms.html">Analysis of Algorithms</a>
  </li>
</ul>
</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse" data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu" aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation" title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
            <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i class="fas fa-download"></i></button>

            
            <div class="dropdown-buttons">
                <!-- ipynb file if we had a myst markdown file -->
                
                <!-- Download raw file -->
                <a class="dropdown-buttons" href="_sources/tuples.md"><button type="button" class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip" data-placement="left">.md</button></a>
                <!-- Download PDF via print -->
                <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF" onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
            </div>
            
        </div>

        <!-- Edit this page -->
        

        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->
        
    </div>
    <div class="d-none d-md-block col-md-2 bd-toc show">
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="nav section-nav flex-column">
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#tuples-are-immutable" class="nav-link">Tuples are immutable</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#tuple-assignment" class="nav-link">Tuple assignment</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#tuples-as-return-values" class="nav-link">Tuples as return values</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#variable-length-argument-tuples" class="nav-link">Variable-length argument tuples</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#lists-and-tuples" class="nav-link">Lists and tuples</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#dictionaries-and-tuples" class="nav-link">Dictionaries and tuples</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#sequences-of-sequences" class="nav-link">Sequences of sequences</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#debugging" class="nav-link">Debugging</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#glossary" class="nav-link">Glossary</a>
        </li>
    
        <li class="nav-item toc-entry toc-h2">
            <a href="#exercises" class="nav-link">Exercises</a>
        </li>
    
    </ul>
</nav>


    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="tuples">
<h1>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h1>
<p>This chapter presents one more built-in type, the tuple, and then shows
how lists, dictionaries, and tuples work together. I also present a
useful feature for variable-length argument lists, the gather and
scatter operators.</p>
<p>One note: there is no consensus on how to pronounce “tuple”. Some people
say “tuh-ple”, which rhymes with “supple”. But in the context of
programming, most people say “too-ple”, which rhymes with “quadruple”.</p>
<div class="section" id="tuples-are-immutable">
<h2>Tuples are immutable<a class="headerlink" href="#tuples-are-immutable" title="Permalink to this headline">¶</a></h2>
<p>A tuple is a sequence of values. The values can be any type, and they
are indexed by integers, so in that respect tuples are a lot like lists.
The important difference is that tuples are immutable.</p>
<p>Syntactically, a tuple is a comma-separated list of values:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;
</pre></div>
</div>
<p>Although it is not necessary, it is common to enclose tuples in
parentheses:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;)
</pre></div>
</div>
<p>To create a tuple with a single element, you have to include a final
comma:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t1 = &#39;a&#39;,
&gt;&gt;&gt; type(t1)
&lt;class &#39;tuple&#39;&gt;
</pre></div>
</div>
<p>A value in parentheses is not a tuple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t2 = (&#39;a&#39;)
&gt;&gt;&gt; type(t2)
&lt;class &#39;str&#39;&gt;
</pre></div>
</div>
<p>Another way to create a tuple is the built-in function
<span><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span>. With no argument, it creates an empty tuple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = tuple()
&gt;&gt;&gt; t
()
</pre></div>
</div>
<p>If the argument is a sequence (string, list or tuple), the result is a
tuple with the elements of the sequence:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = tuple(&#39;lupins&#39;)
&gt;&gt;&gt; t
(&#39;l&#39;, &#39;u&#39;, &#39;p&#39;, &#39;i&#39;, &#39;n&#39;, &#39;s&#39;)
</pre></div>
</div>
<p>Because <span><code class="docutils literal notranslate"><span class="pre">tuple</span></code></span> is the name of a built-in function, you
should avoid using it as a variable name.</p>
<p>Most list operators also work on tuples. The bracket operator indexes an
element:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = (&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;)
&gt;&gt;&gt; t[0]
&#39;a&#39;
</pre></div>
</div>
<p>And the slice operator selects a range of elements.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t[1:3]
(&#39;b&#39;, &#39;c&#39;)
</pre></div>
</div>
<p>But if you try to modify one of the elements of the tuple, you get an
error:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t[0] = &#39;A&#39;
TypeError: object doesn&#39;t support item assignment
</pre></div>
</div>
<p>Because tuples are immutable, you can’t modify the elements. But you can
replace one tuple with another:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = (&#39;A&#39;,) + t[1:]
&gt;&gt;&gt; t
(&#39;A&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;)
</pre></div>
</div>
<p>This statement makes a new tuple and then makes <span><code class="docutils literal notranslate"><span class="pre">t</span></code></span> refer
to it.</p>
<p>The relational operators work with tuples and other sequences; Python
starts by comparing the first element from each sequence. If they are
equal, it goes on to the next elements, and so on, until it finds
elements that differ. Subsequent elements are not considered (even if
they are really big).</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; (0, 1, 2) &lt; (0, 3, 4)
True
&gt;&gt;&gt; (0, 1, 2000000) &lt; (0, 3, 4)
True
</pre></div>
</div>
</div>
<div class="section" id="tuple-assignment">
<h2>Tuple assignment<a class="headerlink" href="#tuple-assignment" title="Permalink to this headline">¶</a></h2>
<p>It is often useful to swap the values of two variables. With
conventional assignments, you have to use a temporary variable. For
example, to swap <span><code class="docutils literal notranslate"><span class="pre">a</span></code></span> and <span><code class="docutils literal notranslate"><span class="pre">b</span></code></span>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; temp = a
&gt;&gt;&gt; a = b
&gt;&gt;&gt; b = temp
</pre></div>
</div>
<p>This solution is cumbersome; <span><strong>tuple assignment</strong></span> is more
elegant:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; a, b = b, a
</pre></div>
</div>
<p>The left side is a tuple of variables; the right side is a tuple of
expressions. Each value is assigned to its respective variable. All the
expressions on the right side are evaluated before any of the
assignments.</p>
<p>The number of variables on the left and the number of values on the
right have to be the same:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; a, b = 1, 2, 3
ValueError: too many values to unpack
</pre></div>
</div>
<p>More generally, the right side can be any kind of sequence (string, list
or tuple). For example, to split an email address into a user name and a
domain, you could write:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; addr = &#39;monty@python.org&#39;
&gt;&gt;&gt; uname, domain = addr.split(&#39;@&#39;)
</pre></div>
</div>
<p>The return value from <span><code class="docutils literal notranslate"><span class="pre">split</span></code></span> is a list with two elements;
the first element is assigned to <span><code class="docutils literal notranslate"><span class="pre">uname</span></code></span>, the second to
<span><code class="docutils literal notranslate"><span class="pre">domain</span></code></span>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; uname
&#39;monty&#39;
&gt;&gt;&gt; domain
&#39;python.org&#39;
</pre></div>
</div>
</div>
<div class="section" id="tuples-as-return-values">
<h2>Tuples as return values<a class="headerlink" href="#tuples-as-return-values" title="Permalink to this headline">¶</a></h2>
<p>Strictly speaking, a function can only return one value, but if the
value is a tuple, the effect is the same as returning multiple values.
For example, if you want to divide two integers and compute the quotient
and remainder, it is inefficient to compute <span><code class="docutils literal notranslate"><span class="pre">x//y</span></code></span> and then
<span><code class="docutils literal notranslate"><span class="pre">x%y</span></code></span>. It is better to compute them both at the same time.</p>
<p>The built-in function <span><code class="docutils literal notranslate"><span class="pre">divmod</span></code></span> takes two arguments and
returns a tuple of two values, the quotient and remainder. You can store
the result as a tuple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = divmod(7, 3)
&gt;&gt;&gt; t
(2, 1)
</pre></div>
</div>
<p>Or use tuple assignment to store the elements separately:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; quot, rem = divmod(7, 3)
&gt;&gt;&gt; quot
2
&gt;&gt;&gt; rem
1
</pre></div>
</div>
<p>Here is an example of a function that returns a tuple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def min_max(t):
    return min(t), max(t)
</pre></div>
</div>
<p><span><code class="docutils literal notranslate"><span class="pre">max</span></code></span> and <span><code class="docutils literal notranslate"><span class="pre">min</span></code></span> are built-in functions that
find the largest and smallest elements of a sequence. <code class="docutils literal notranslate"><span class="pre">min_max</span></code> computes
both and returns a tuple of two values.</p>
</div>
<div class="section" id="variable-length-argument-tuples">
<h2>Variable-length argument tuples<a class="headerlink" href="#variable-length-argument-tuples" title="Permalink to this headline">¶</a></h2>
<p>Functions can take a variable number of arguments. A parameter name that
begins with <span><code class="docutils literal notranslate">&#160; </code></span> <span><strong>gathers</strong></span> arguments into a
tuple. For example, <span><code class="docutils literal notranslate"><span class="pre">printall</span></code></span> takes any number of
arguments and prints them:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def printall(*args):
    print(args)
</pre></div>
</div>
<p>The gather parameter can have any name you like, but <span><code class="docutils literal notranslate"><span class="pre">args</span></code></span>
is conventional. Here’s how the function works:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; printall(1, 2.0, &#39;3&#39;)
(1, 2.0, &#39;3&#39;)
</pre></div>
</div>
<p>The complement of gather is <span><strong>scatter</strong></span>. If you have a
sequence of values and you want to pass it to a function as multiple
arguments, you can use the <span><code class="docutils literal notranslate">&#160; </code></span> operator. For example,
<span><code class="docutils literal notranslate"><span class="pre">divmod</span></code></span> takes exactly two arguments; it doesn’t work with
a tuple:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = (7, 3)
&gt;&gt;&gt; divmod(t)
TypeError: divmod expected 2 arguments, got 1
</pre></div>
</div>
<p>But if you scatter the tuple, it works:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; divmod(*t)
(2, 1)
</pre></div>
</div>
<p>Many of the built-in functions use variable-length argument tuples. For
example, <span><code class="docutils literal notranslate"><span class="pre">max</span></code></span> and <span><code class="docutils literal notranslate"><span class="pre">min</span></code></span> can take any number
of arguments:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; max(1, 2, 3)
3
</pre></div>
</div>
<p>But <span><code class="docutils literal notranslate"><span class="pre">sum</span></code></span> does not.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; sum(1, 2, 3)
TypeError: sum expected at most 2 arguments, got 3
</pre></div>
</div>
<p>As an exercise, write a function called <code class="docutils literal notranslate"><span class="pre">sum_all</span></code> that takes any number
of arguments and returns their sum.</p>
</div>
<div class="section" id="lists-and-tuples">
<h2>Lists and tuples<a class="headerlink" href="#lists-and-tuples" title="Permalink to this headline">¶</a></h2>
<p><span><code class="docutils literal notranslate"><span class="pre">zip</span></code></span> is a built-in function that takes two or more
sequences and interleaves them. The name of the function refers to a
zipper, which interleaves two rows of teeth.</p>
<p>This example zips a string and a list:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; s = &#39;abc&#39;
&gt;&gt;&gt; t = [0, 1, 2]
&gt;&gt;&gt; zip(s, t)
&lt;zip object at 0x7f7d0a9e7c48&gt;
</pre></div>
</div>
<p>The result is a <span><strong>zip object</strong></span> that knows how to iterate
through the pairs. The most common use of <span><code class="docutils literal notranslate"><span class="pre">zip</span></code></span> is in a
<span><code class="docutils literal notranslate"><span class="pre">for</span></code></span> loop:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; for pair in zip(s, t):
...     print(pair)
...
(&#39;a&#39;, 0)
(&#39;b&#39;, 1)
(&#39;c&#39;, 2)
</pre></div>
</div>
<p>A zip object is a kind of <span><strong>iterator</strong></span>, which is any object
that iterates through a sequence. Iterators are similar to lists in some
ways, but unlike lists, you can’t use an index to select an element from
an iterator.</p>
<p>If you want to use list operators and methods, you can use a zip object
to make a list:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; list(zip(s, t))
[(&#39;a&#39;, 0), (&#39;b&#39;, 1), (&#39;c&#39;, 2)]
</pre></div>
</div>
<p>The result is a list of tuples; in this example, each tuple contains a
character from the string and the corresponding element from the list.</p>
<p>If the sequences are not the same length, the result has the length of
the shorter one.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; list(zip(&#39;Anne&#39;, &#39;Elk&#39;))
[(&#39;A&#39;, &#39;E&#39;), (&#39;n&#39;, &#39;l&#39;), (&#39;n&#39;, &#39;k&#39;)]
</pre></div>
</div>
<p>You can use tuple assignment in a <span><code class="docutils literal notranslate"><span class="pre">for</span></code></span> loop to traverse a
list of tuples:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>t = [(&#39;a&#39;, 0), (&#39;b&#39;, 1), (&#39;c&#39;, 2)]
for letter, number in t:
    print(number, letter)
</pre></div>
</div>
<p>Each time through the loop, Python selects the next tuple in the list
and assigns the elements to <span><code class="docutils literal notranslate"><span class="pre">letter</span></code></span> and
<span><code class="docutils literal notranslate"><span class="pre">number</span></code></span>. The output of this loop is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0 a
1 b
2 c
</pre></div>
</div>
<p>If you combine <span><code class="docutils literal notranslate"><span class="pre">zip</span></code></span>, <span><code class="docutils literal notranslate"><span class="pre">for</span></code></span> and tuple
assignment, you get a useful idiom for traversing two (or more)
sequences at the same time. For example, <code class="docutils literal notranslate"><span class="pre">has_match</span></code> takes two
sequences, <span><code class="docutils literal notranslate"><span class="pre">t1</span></code></span> and <span><code class="docutils literal notranslate"><span class="pre">t2</span></code></span>, and returns
<span><code class="docutils literal notranslate"><span class="pre">True</span></code></span> if there is an index <span><code class="docutils literal notranslate"><span class="pre">i</span></code></span> such that
<span><code class="docutils literal notranslate"><span class="pre">t1[i]</span> <span class="pre">==</span> <span class="pre">t2[i]</span></code></span>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>def has_match(t1, t2):
    for x, y in zip(t1, t2):
        if x == y:
            return True
    return False
</pre></div>
</div>
<p>If you need to traverse the elements of a sequence and their indices,
you can use the built-in function <span><code class="docutils literal notranslate"><span class="pre">enumerate</span></code></span>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>for index, element in enumerate(&#39;abc&#39;):
    print(index, element)
</pre></div>
</div>
<p>The result from <span><code class="docutils literal notranslate"><span class="pre">enumerate</span></code></span> is an enumerate object, which
iterates a sequence of pairs; each pair contains an index (starting from
0) and an element from the given sequence. In this example, the output
is</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0 a
1 b
2 c
</pre></div>
</div>
<p>Again.</p>
</div>
<div class="section" id="dictionaries-and-tuples">
<h2>Dictionaries and tuples<a class="headerlink" href="#dictionaries-and-tuples" title="Permalink to this headline">¶</a></h2>
<p>Dictionaries have a method called <span><code class="docutils literal notranslate"><span class="pre">items</span></code></span> that returns a
sequence of tuples, where each tuple is a key-value pair.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; d = {&#39;a&#39;:0, &#39;b&#39;:1, &#39;c&#39;:2}
&gt;&gt;&gt; t = d.items()
&gt;&gt;&gt; t
dict_items([(&#39;c&#39;, 2), (&#39;a&#39;, 0), (&#39;b&#39;, 1)])
</pre></div>
</div>
<p>The result is a <code class="docutils literal notranslate"><span class="pre">dict_items</span></code> object, which is an iterator that iterates
the key-value pairs. You can use it in a <span><code class="docutils literal notranslate"><span class="pre">for</span></code></span> loop like
this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; for key, value in d.items():
...     print(key, value)
...
c 2
a 0
b 1
</pre></div>
</div>
<p>As you should expect from a dictionary, the items are in no particular
order.</p>
<p>Going in the other direction, you can use a list of tuples to initialize
a new dictionary:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t = [(&#39;a&#39;, 0), (&#39;c&#39;, 2), (&#39;b&#39;, 1)]
&gt;&gt;&gt; d = dict(t)
&gt;&gt;&gt; d
{&#39;a&#39;: 0, &#39;c&#39;: 2, &#39;b&#39;: 1}
</pre></div>
</div>
<p>Combining <span><code class="docutils literal notranslate"><span class="pre">dict</span></code></span> with <span><code class="docutils literal notranslate"><span class="pre">zip</span></code></span> yields a concise
way to create a dictionary:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; d = dict(zip(&#39;abc&#39;, range(3)))
&gt;&gt;&gt; d
{&#39;a&#39;: 0, &#39;c&#39;: 2, &#39;b&#39;: 1}
</pre></div>
</div>
<p>The dictionary method <span><code class="docutils literal notranslate"><span class="pre">update</span></code></span> also takes a list of tuples
and adds them, as key-value pairs, to an existing dictionary.</p>
<p>It is common to use tuples as keys in dictionaries (primarily because
you can’t use lists). For example, a telephone directory might map from
last-name, first-name pairs to telephone numbers. Assuming that we have
defined <span><code class="docutils literal notranslate"><span class="pre">last</span></code></span>, <span><code class="docutils literal notranslate"><span class="pre">first</span></code></span> and
<span><code class="docutils literal notranslate"><span class="pre">number</span></code></span>, we could write:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>directory[last, first] = number
</pre></div>
</div>
<p>The expression in brackets is a tuple. We could use tuple assignment to
traverse this dictionary.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>for last, first in directory:
    print(first, last, directory[last,first])
</pre></div>
</div>
<p>This loop traverses the keys in <span><code class="docutils literal notranslate"><span class="pre">directory</span></code></span>, which are
tuples. It assigns the elements of each tuple to <span><code class="docutils literal notranslate"><span class="pre">last</span></code></span> and
<span><code class="docutils literal notranslate"><span class="pre">first</span></code></span>, then prints the name and corresponding telephone
number.</p>
<p>There are two ways to represent tuples in a state diagram. The more
detailed version shows the indices and elements just as they appear in a
list. For example, the tuple <code class="docutils literal notranslate"><span class="pre">('Cleese',</span> <span class="pre">'John')</span></code> would appear as in
Figure <a class="reference external" href="#fig.tuple1">13.1</a>.</p>
<p><img alt="State diagram." src="_images/tuple1.pdf" /></p>
<p>But in a larger diagram you might want to leave out the details. For
example, a diagram of the telephone directory might appear as in
Figure <a class="reference external" href="#fig.dict2">13.2</a>.</p>
<p><img alt="State diagram." src="_images/dict2.pdf" /></p>
<p>Here the tuples are shown using Python syntax as a graphical shorthand.
The telephone number in the diagram is the complaints line for the BBC,
so please don’t call it.</p>
</div>
<div class="section" id="sequences-of-sequences">
<h2>Sequences of sequences<a class="headerlink" href="#sequences-of-sequences" title="Permalink to this headline">¶</a></h2>
<p>I have focused on lists of tuples, but almost all of the examples in
this chapter also work with lists of lists, tuples of tuples, and tuples
of lists. To avoid enumerating the possible combinations, it is
sometimes easier to talk about sequences of sequences.</p>
<p>In many contexts, the different kinds of sequences (strings, lists and
tuples) can be used interchangeably. So how should you choose one over
the others?</p>
<p>To start with the obvious, strings are more limited than other sequences
because the elements have to be characters. They are also immutable. If
you need the ability to change the characters in a string (as opposed to
creating a new string), you might want to use a list of characters
instead.</p>
<p>Lists are more common than tuples, mostly because they are mutable. But
there are a few cases where you might prefer tuples:</p>
<ol class="simple">
<li><p>In some contexts, like a <span><code class="docutils literal notranslate"><span class="pre">return</span></code></span> statement, it is
syntactically simpler to create a tuple than a list.</p></li>
<li><p>If you want to use a sequence as a dictionary key, you have to use
an immutable type like a tuple or string.</p></li>
<li><p>If you are passing a sequence as an argument to a function, using
tuples reduces the potential for unexpected behavior due to
aliasing.</p></li>
</ol>
<p>Because tuples are immutable, they don’t provide methods like <span><code class="docutils literal notranslate"> <span class="pre">sort</span></code></span> and <span><code class="docutils literal notranslate"><span class="pre">reverse</span></code></span>, which modify existing lists.
But Python provides the built-in function <span><code class="docutils literal notranslate"><span class="pre">sorted</span></code></span>, which
takes any sequence and returns a new list with the same elements in
sorted order, and <span><code class="docutils literal notranslate"><span class="pre">reversed</span></code></span>, which takes a sequence and
returns an iterator that traverses the list in reverse order.</p>
</div>
<div class="section" id="debugging">
<h2>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<p>Lists, dictionaries and tuples are examples of <span><strong>data
structures</strong></span>; in this chapter we are starting to see compound
data structures, like lists of tuples, or dictionaries that contain
tuples as keys and lists as values. Compound data structures are useful,
but they are prone to what I call <span><strong>shape errors</strong></span>; that
is, errors caused when a data structure has the wrong type, size, or
structure. For example, if you are expecting a list with one integer and
I give you a plain old integer (not in a list), it won’t work.</p>
<p>To help debug these kinds of errors, I have written a module called
<span><code class="docutils literal notranslate"><span class="pre">structshape</span></code></span> that provides a function, also called
<span><code class="docutils literal notranslate"><span class="pre">structshape</span></code></span>, that takes any kind of data structure as an
argument and returns a string that summarizes its shape. You can
download it from <a class="reference external" href="http://thinkpython2.com/code/structshape.py">http://thinkpython2.com/code/structshape.py</a></p>
<p>Here’s the result for a simple list:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; from structshape import structshape
&gt;&gt;&gt; t = [1, 2, 3]
&gt;&gt;&gt; structshape(t)
&#39;list of 3 int&#39;
</pre></div>
</div>
<p>A fancier program might write “list of 3 int<span><em>s</em></span>”, but it
was easier not to deal with plurals. Here’s a list of lists:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t2 = [[1,2], [3,4], [5,6]]
&gt;&gt;&gt; structshape(t2)
&#39;list of 3 list of 2 int&#39;
</pre></div>
</div>
<p>If the elements of the list are not the same type,
<span><code class="docutils literal notranslate"><span class="pre">structshape</span></code></span> groups them, in order, by type:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; t3 = [1, 2, 3, 4.0, &#39;5&#39;, &#39;6&#39;, [7], [8], 9]
&gt;&gt;&gt; structshape(t3)
&#39;list of (3 int, float, 2 str, 2 list of int, int)&#39;
</pre></div>
</div>
<p>Here’s a list of tuples:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; s = &#39;abc&#39;
&gt;&gt;&gt; lt = list(zip(t, s))
&gt;&gt;&gt; structshape(lt)
&#39;list of 3 tuple of (int, str)&#39;
</pre></div>
</div>
<p>And here’s a dictionary with 3 items that map integers to strings.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; d = dict(lt) 
&gt;&gt;&gt; structshape(d)
&#39;dict of 3 int-&gt;str&#39;
</pre></div>
</div>
<p>If you are having trouble keeping track of your data structures,
<span><code class="docutils literal notranslate"><span class="pre">structshape</span></code></span> can help.</p>
</div>
<div class="section" id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>tuple:<br />
An immutable sequence of elements.</p></li>
<li><p>tuple assignment:<br />
An assignment with a sequence on the right side and a tuple of
variables on the left. The right side is evaluated and then its
elements are assigned to the variables on the left.</p></li>
<li><p>gather:<br />
An operation that collects multiple arguments into a tuple.</p></li>
<li><p>scatter:<br />
An operation that makes a sequence behave like multiple arguments.</p></li>
<li><p>zip object:<br />
The result of calling a built-in function <span><code class="docutils literal notranslate"><span class="pre">zip</span></code></span>; an
object that iterates through a sequence of tuples.</p></li>
<li><p>iterator:<br />
An object that can iterate through a sequence, but which does not
provide list operators and methods.</p></li>
<li><p>data structure:<br />
A collection of related values, often organized in lists,
dictionaries, tuples, etc.</p></li>
<li><p>shape error:<br />
An error caused because a value has the wrong shape; that is, the
wrong type or size.</p></li>
</ul>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<p>Write a function called <code class="docutils literal notranslate"><span class="pre">most_frequent</span></code> that takes a string and prints
the letters in decreasing order of frequency. Find text samples from
several different languages and see how letter frequency varies between
languages. Compare your results with the tables at
<a class="reference external" href="http://en.wikipedia.org/wiki/Letter_frequencies">http://en.wikipedia.org/wiki/Letter_frequencies</a>. Solution:
<a class="reference external" href="http://thinkpython2.com/code/most_frequent.py">http://thinkpython2.com/code/most_frequent.py</a>.</p>
<p><span id="anagrams" label="anagrams">[anagrams]</span></p>
<p>More anagrams!</p>
<ol>
<li><p>Write a program that reads a word list from a file (see
Section <a class="reference external" href="#wordlist">10.1</a>) and prints all the sets of words that
are anagrams.</p>
<p>Here is an example of what the output might look like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[&#39;deltas&#39;, &#39;desalt&#39;, &#39;lasted&#39;, &#39;salted&#39;, &#39;slated&#39;, &#39;staled&#39;]
[&#39;retainers&#39;, &#39;ternaries&#39;]
[&#39;generating&#39;, &#39;greatening&#39;]
[&#39;resmelts&#39;, &#39;smelters&#39;, &#39;termless&#39;]
</pre></div>
</div>
<p>Hint: you might want to build a dictionary that maps from a
collection of letters to a list of words that can be spelled with
those letters. The question is, how can you represent the collection
of letters in a way that can be used as a key?</p>
</li>
<li><p>Modify the previous program so that it prints the longest list of
anagrams first, followed by the second longest, and so on.</p></li>
<li><p>In Scrabble a “bingo” is when you play all seven tiles in your rack,
along with a letter on the board, to form an eight-letter word. What
collection of 8 letters forms the most possible bingos?</p>
<p>Solution: <a class="reference external" href="http://thinkpython2.com/code/anagram_sets.py">http://thinkpython2.com/code/anagram_sets.py</a>.</p>
</li>
</ol>
<p>Two words form a “metathesis pair” if you can transform one into the
other by swapping two letters; for example, “converse” and “conserve”.
Write a program that finds all of the metathesis pairs in the
dictionary. Hint: don’t test all pairs of words, and don’t test all
possible swaps. Solution: <a class="reference external" href="http://thinkpython2.com/code/metathesis.py">http://thinkpython2.com/code/metathesis.py</a>.
Credit: This exercise is inspired by an example at
<a class="reference external" href="http://puzzlers.org">http://puzzlers.org</a>.</p>
<p>Here’s another Car Talk Puzzler
(<a class="reference external" href="http://www.cartalk.com/content/puzzlers">http://www.cartalk.com/content/puzzlers</a>):</p>
<blockquote>
<div><p>What is the longest English word, that remains a valid English word,
as you remove its letters one at a time?</p>
<p>Now, letters can be removed from either end, or the middle, but you
can’t rearrange any of the letters. Every time you drop a letter, you
wind up with another English word. If you do that, you’re eventually
going to wind up with one letter and that too is going to be an
English word—one that’s found in the dictionary. I want to know what’s
the longest word and how many letters does it have?</p>
<p>I’m going to give you a little modest example: Sprite. Ok? You start
off with sprite, you take a letter off, one from the interior of the
word, take the r away, and we’re left with the word spite, then we
take the e off the end, we’re left with spit, we take the s off, we’re
left with pit, it, and I.</p>
</div></blockquote>
<p>Write a program to find all words that can be reduced in this way, and
then find the longest one.</p>
<p>This exercise is a little more challenging than most, so here are some
suggestions:</p>
<ol class="simple">
<li><p>You might want to write a function that takes a word and computes a
list of all the words that can be formed by removing one letter.
These are the “children” of the word.</p></li>
<li><p>Recursively, a word is reducible if any of its children are
reducible. As a base case, you can consider the empty string
reducible.</p></li>
<li><p>The wordlist I provided, <span><code class="docutils literal notranslate"><span class="pre">words.txt</span></code></span>, doesn’t contain
single letter words. So you might want to add “I”, “a”, and the
empty string.</p></li>
<li><p>To improve the performance of your program, you might want to
memoize the words that are known to be reducible.</p></li>
</ol>
<p>Solution: <a class="reference external" href="http://thinkpython2.com/code/reducible.py">http://thinkpython2.com/code/reducible.py</a>.</p>
</div>
</div>


              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="dictionaries.html" title="previous page">Dictionaries</a>
    <a class='right-next' id="next-link" href="case_study_data_structures.html" title="next page">Case study: data structure selection</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Allan Downey<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="_static/js/index.js"></script>
    
  </body>
</html>